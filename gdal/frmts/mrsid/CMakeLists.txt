set(LIB_CSOURCES
    mrsidstream.h
    mrsidstream.cpp
    mrsiddataset.cpp
    )

if(GDAL_USE_LIBGEOTIFF_INTERNAL)
    if(RENAME_INTERNAL_LIBGEOTIFF_SYMBOLS)
        add_definitions(-DRENAME_INTERNAL_LIBGEOTIFF_SYMBOLS)
    endif()
    GDAL_DRIVER(TARGET gdal_MRSID SOURCES ${LIB_CSOURCES}
           INCLUDES $<BUILD_INTERFACE:${GDAL_ROOT_SOURCE_DIR}/frmts/gtiff/libgeotiff>
           LIBRARIES ${MRSID_LIBRARIES})
else()
    GDAL_DRIVER(TARGET gdal_MRSID SOURCES ${LIB_CSOURCES}
           INCLUDES ${LIBGEOTIFF_INCLUDE_DIR}
           LIBRARIES ${MRSID_LIBRARIES} ${LIBGEOTIFF_LIBRARY})
endif()
